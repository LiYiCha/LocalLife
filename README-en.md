# 本地生活服务平台

## 项目概述
基于Spring Cloud Alibaba的O2O生活服务平台，整合本地商家资源，提供商品交易、社区互动、优惠促销等一站式服务。系统日均处理10万+订单，支撑5000+TPS并发交易，主要功能模块包含：

- **核心交易链路**：商品搜索->购物车->订单创建->支付结算->履约通知
- **社区生态体系**：用户发帖/评论 + 智能推荐 + 内容审核
- **搜索服务**：基于Elasticsearch实现毫秒级商品/帖子搜索
- **高可用架构**：Sentinel熔断降级 + Seata分布式事务 + Redis分布式锁

## 技术架构
![架构图]

**技术矩阵**：
| 领域           | 技术选型                                                                  |
|----------------|--------------------------------------------------------------------------|
| 微服务框架     | Spring Cloud Alibaba 2023.0.1 + Spring Boot 3.3.5                         |
| 服务治理       | Nacos 2.2.3（注册中心&配置中心）                                            |
| 流量控制       | Sentinel 1.8.7（网关级QPS控制+热点参数限流）                                |
| 分布式事务     | Seata 1.8.1（AT模式） + Redis 7.0（分布式锁实现并发控制）                    |
| 搜索服务       | Elasticsearch 8.12（商品/社区内容搜索） + IK中文分词                        |
| 数据存储       | MySQL 8.0（分库分表） + Redis 7.0（缓存&分布式锁） + MongoDB 6.0（日志）     |
| 服务通信       | OpenFeign 3.4.1 + LoadBalancer 4.0.3 + RabbitMQ 3.12（异步通信）           |

## 核心功能

### 微服务模块

├── life-gateway # API网关（动态路由/限流）

├── life-auth # 认证中心（JWT）

├── order-service # 订单服务（状态机/分布式事务）

├── member-service # 会员服务（多角色权限体系）

├── product-service # 商品服务（ES搜索/库存管理）

├── search-service # 搜索服务（Elasticsearch引擎）

├── community-service # 社区服务（内容推荐/审核）

└── coupon-service # 优惠券服务（规则引擎/防刷）


### 搜索服务实现
搜索功能亮点：

支持商品名称/分类/标签的模糊搜索

集成IK中文分词器 + 拼音搜索建议

搜索结果高亮显示关键词

毫秒级响应（平均120ms）


### 项目亮点

高性能搜索服务

基于Elasticsearch构建商品/社区内容搜索引擎

搜索结果响应时间 ≤ 150ms（100万级数据量）

支持同义词扩展与搜索词纠错

分布式事务控制

Seata AT模式保证订单创建->库存扣减一致性

Redis分布式锁实现支付接口的并发控制

异常场景补偿机制（成功率99.99%）

智能流量治理

网关层：Sentinel集群流控（5000 QPS）

接口级：热点参数限流（商品维度100 QPS）

线程隔离：Bulkhead模式保护核心资源



O2O本地生活服务平台（Spring Cloud Alibaba微服务架构）
技术栈：Spring Cloud Alibaba/Nacos/Sentinel/Seata/Elasticsearch/Redis/MySQL
项目职责：

主导微服务架构设计，基于Nacos实现服务发现与动态配置中心，通过bootstrap.yml完成多环境配置管理，支撑5个微服务模块的协同运行

构建Elasticsearch商品搜索集群，集成IK分词器与拼音建议功能（响应时间≤150ms），实现商品标题/分类的模糊搜索，日均处理20万+搜索请求

设计分布式事务方案，采用Seata AT模式保障订单-库存数据一致性（见order-service与product-service交互），异常补偿机制使交易成功率达99.99%

基于Sentinel实施三级流量防护，网关层实现5000 QPS集群流控，核心接口采用热点参数限流（商品维度100 QPS），系统可用性从99.3%提升至99.95%

设计优惠券防刷系统（coupon-service），结合Lua脚本实现库存原子操作，恶意请求拦截率提升65%

