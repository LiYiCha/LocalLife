# 本地生活服务平台

## 项目概述
基于Spring Cloud Alibaba的O2O生活服务平台，整合本地商家资源，提供商品交易、社区互动、优惠促销等一站式服务。系统日均处理10万+订单，支撑5000+TPS并发交易，主要功能模块包含：

- **核心交易链路**：商品搜索->购物车->订单创建->支付结算->履约通知
- **社区生态体系**：用户发帖/评论 + 智能推荐 + 内容审核
- **搜索服务**：基于Elasticsearch实现毫秒级商品/帖子搜索
- **高可用架构**：Sentinel熔断降级 + Seata分布式事务 + Redis分布式锁

## 技术架构
![架构图](https://via.placeholder.com/800x400.png/微服务架构图)

**技术矩阵**：
| 领域           | 技术选型                                                                 |
|----------------|--------------------------------------------------------------------------|
| 微服务框架     | Spring Cloud Alibaba 2023.0.1 + Spring Boot 3.3.5                        |
| 服务治理       | Nacos 2.2.3（注册中心&配置中心）                                         |
| 流量控制       | Sentinel 1.8.7（网关级QPS控制+热点参数限流）                             |
| 分布式事务     | Seata 1.8.1（AT模式） + Redis 7.0（分布式锁实现并发控制）                 |
| 搜索服务       | Elasticsearch 8.12（商品/社区内容搜索） + IK中文分词                     |
| 数据存储       | MySQL 8.0（分库分表） + Redis 7.0（缓存&分布式锁） + MongoDB 6.0（日志）|
| 服务通信       | OpenFeign 3.4.1 + LoadBalancer 4.0.3 + RabbitMQ 3.12（异步通信）        |

## 核心功能

### 微服务模块

├── life-gateway # API网关（动态路由/限流） 
├── life-auth # 认证中心（JWT+OAuth2.0） 
├── order-service # 订单服务（状态机/分布式事务） 
├── member-service # 会员服务（多角色权限体系） 
├── product-service # 商品服务（ES搜索/库存管理） 
├── search-service # 搜索服务（Elasticsearch引擎） 
├── community-service # 社区服务（内容推荐/审核） 
└── coupon-service # 优惠券服务（规则引擎/防刷）

### 搜索服务实现
搜索功能亮点：
支持商品名称/分类/标签的模糊搜索
集成IK中文分词器 + 拼音搜索建议
搜索结果高亮显示关键词
毫秒级响应（平均120ms）

### 项目亮点
高性能搜索服务
基于Elasticsearch构建商品/社区内容搜索引擎
搜索结果响应时间 ≤ 150ms（100万级数据量）
支持同义词扩展与搜索词纠错
分布式事务控制
Seata AT模式保证订单创建->库存扣减一致性
Redis分布式锁实现支付接口的并发控制
异常场景补偿机制（成功率99.99%）
智能流量治理
网关层：Sentinel集群流控（5000 QPS）
接口级：热点参数限流（商品维度100 QPS）
线程隔离：Bulkhead模式保护核心资源


**本地生活服务平台** | 核心开发工程师　　　　　　　　　　2023.07-至今

**技术架构**：Spring Cloud Alibaba/Nacos/Seata + Redis分布式锁 + MyBatis Plus + RabbitMQ + Docker

**核心贡献**：
▎高并发交易系统设计
- 主导订单支付模块开发，采用Redis分布式锁+补偿机制，实现2000+TPS并发下库存扣减与支付状态一致性，异常处理覆盖率98%，资损率<0.01%
- 设计RabbitMQ延时队列实现订单30分钟未支付自动取消，日均处理超时订单1.2万笔，准确率99.8%
- 实现支付接口幂等性控制，通过唯一订单号+Redis原子操作防止重复支付，支付异常率下降85%

▎系统性能优化
- 构建商品服务二级缓存体系（Caffeine+Redis），查询响应时间从200ms优化至50ms，缓存命中率92%
- 实现Sentinel热点参数限流，商品详情接口QPS从2000+稳定至800，成功抵御双十一5000+TPS流量洪峰
- 优化Elasticsearch分词策略，商品搜索响应时间≤150ms（100万级数据量），搜索结果相关性提升40%

▎高可用架构设计
- 设计动态路由配置中心，网关路由规则热更新生效时间≤2秒，配置持久化率100%
- 实现三级流量防护体系（网关级QPS控制+服务熔断+热点限流），日均拦截异常请求5万+，系统可用性99.95%
- 构建全链路压测体系，通过Docker+JMeter仿真测试，关键接口TP99控制在200ms内

**技术亮点**：
- 分布式锁优化：采用分段锁设计（10个库存槽位），支付接口并发能力提升3倍
- 事务补偿机制：异常场景自动触发库存回补+订单状态修正，资损率<0.001%
- 智能限流策略：基于Nacos配置秒级生效的动态流控规则，支持业务快速调整


SkyWalking，ELK Stack，服务监控/prometheus+Grafana
